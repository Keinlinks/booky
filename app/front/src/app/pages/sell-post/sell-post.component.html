<h2 class="p-5">Ultimas publicaciones</h2>
<div class="card">
  <p-table [value]="postsBooks" [tableStyle]="{ 'min-width': '50rem' }">
    <ng-template pTemplate="header">
      <tr>
        <th>Titulo</th>
        <th>Precio</th>
        <th>Autor</th>
        <th>Imagen</th>
        <th>Publicado</th>
        <th>Lugar</th>
        <th>Disponible</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-post>
      <tr class="cursor-pointer item" (click)="openDialog(post)">
        <td class="text-900 font-bold text-xl mb-4 title">
          {{ post.book.title }}
        </td>
        <td>$ {{ post.price | appPrices }}</td>
        <td>
          <app-author
            [authorKey]="getAuthor(post.book.authors[0] || null)"
          ></app-author>
        </td>
        <td>
          <img [src]="getImage(post.book)" class="images border-round img" />
        </td>
        <td>{{ post.book.first_publish_date }}</td>
        <td>{{ post.location }}</td>
        <ng-template #available>
          <td><p-tag severity="info" value="Disponible" /></td>
        </ng-template>
        <ng-container *ngIf="!post.available; else available">
          <td><p-tag severity="danger" value="No disponible" /></td>
        </ng-container>
      </tr>
    </ng-template>
  </p-table>
</div>
